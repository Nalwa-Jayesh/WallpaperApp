#:import NoTransition kivy.uix.screenmanager.NoTransition

MDFloatLayout:
    md_bg_color: 1, 1, 1, 1
    ScreenManager:
        id: screen_manager
        transition: NoTransition()
        MDScreen:
            name: "homepage"
            MDFloatLayout:
                MDFloatLayout:
                    size_hint: .9, .09
                    pos_hint: {"center_x": .5, "center_y": .93}
                    md_bg_color: rgba(241, 241, 243, 255)
                    radius: [10]
                    TextInput:
                        id: search_text
                        hint_text: "Find Wallpaper..."
                        pos_hint: {"center_x": .5, "center_y": .5}
                        height: self.minimum_height
                        cursor_color: rgba(253, 174, 177, 255)
                        cursor_width: "2sp"
                        multiline: False
                        background_color: 0, 0, 0, 0
                        foreground_color: rgba(253, 175, 177, 255)
                        padding: 15
                        font_name: "MPoppins"
                        hint_text_color: rgba(206, 206, 209, 255)
                    MDIconButton:
                        icon: "magnify"
                        pos_hint: {"center_x": .9, "center_y": .5}
                        ripple_scale: 0
                        theme_text_color: "Custom"
                        text_color: rgba(206, 206, 209, 255)
                        on_release:
                            app.search(search_text.text)
                MDLabel:
                    text: "Best of the month"
                    pos_hint: {"center_x": .56, "center_y": .82}
                    font_name: "BPoppins"
                    font_size: "18sp"
                ScrollView:
                    do_scorll_y: False
                    do_scorll_x: True
                    pos_hint: {"center_y": .62}
                    size_hint_y: .3
                    bar_width: 0
                    GridLayout:
                        size_hint_x: None
                        height: self.minimum_height
                        width: self.minimum_width
                        rows: 1
                        spacing: 10
                        padding: 18, 0
                        LoaderImage:
                            source: "https://source.unsplash.com/120x180/?nature"
                            size_hint: None, None
                            size: "120dp", "180dp"
                        LoaderImage:
                            source: "https://source.unsplash.com/120x180/?abstract"
                            size_hint: None, None
                            size: "120dp", "180dp"
                        LoaderImage:
                            source: "https://source.unsplash.com/120x180/?background"
                            size_hint: None, None
                            size: "120dp", "180dp"
                        LoaderImage:
                            source: "https://source.unsplash.com/120x180/?animals"
                            size_hint: None, None
                            size: "120dp", "180dp"
                MDLabel:
                    text: "Categories"
                    pos_hint: {"center_x": .56, "center_y": .4}
                    font_name: "BPoppins"
                    font_size: "18sp"
                MDGridLayout:
                    cols: 2
                    size_hint: .9, .2
                    pos_hint: {"center_x": .5, "center_y": .26}
                    spacing: 10
                    MDLabel:
                        text: "Nature"
                        color: 1, 1, 1, 1
                        halign: "center"
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgb: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: "nature.jpg"
                    MDLabel:
                        text: "Abstract"
                        color: 1, 1, 1, 1
                        halign: "center"
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgb: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: "abstract.jpg"
                    MDLabel:
                        text: "Animals"
                        color: 1, 1, 1, 1
                        halign: "center"
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgb: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: "animals.jpg"
                    MDLabel:
                        text: "Space"
                        color: 1, 1, 1, 1
                        halign: "center"
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgb: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: "space.jpg"
        MDScreen:
            name: "search_results"
            MDIconButton:
                icon: "arrow-left"
                pos_hint: {"center_y": .95}
                on_release:
                    screen_manager.current = "homepage"
            MDLabel:
                id: search_label
                text: ""
                pos_hint: {"center_y": .95}
                halign: "center"
                font_name: "BPoppins"
                font_size: "20sp"
            ScrollView:
                do_scorll_y: True
                do_scorll_x: False
                size_hint_y: .9
                pos_hint: {"center_x": .5, "y": 0}
                bar_width: 0
                GridLayout:
                    id: search_list
                    size_hint_y: None
                    height: self.minimum_height
                    cols: 2
                    spacing: 10
                    padding: 10, 0  
        MDScreen:
            name: "saved"
            MDLabel:
                text: "Saved"
                halign: "center"
                font_name: "BPoppins"
        MDScreen:
            name: "account"
            MDLabel:
                text: "Account"
                halign: "center"
                font_name: "BPoppins"
    NavBar:
        size_hint: .9, .1
        pos_hint: {"center_x": .5, "center_y": .08}
        elevation: 10
        md_bg_color: 1, 1, 1, 1
        radius: [16]
        MDGridLayout:
            cols: 3
            size_hint_x: .9
            spacing: 40
            pos_hint: {"center_x": .5, "center_y": .5}
            MDIconButton:
                id: nav_icon1
                icon: "home"
                ripple_scale: 0
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(253, 175, 177, 255)
                on_release:
                    screen_manager.current = "homepage"
                    app.clear_results()
            MDIconButton:
                id: nav_icon2
                icon: "download"
                ripple_scale: 0
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(222, 222, 222, 255)
                on_release:
                    screen_manager.current = "saved"        
            MDIconButton:
                id: nav_icon3
                icon: "account"
                ripple_scale: 0
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(222, 222, 222, 255)
                on_release:
                    screen_manager.current = "account" 